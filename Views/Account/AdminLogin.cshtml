@model AdminLoginViewModel
@{
    ViewData["Title"] = "Admin Login";
}

<section class="py-5" style="background: linear-gradient(135deg, #dc3545 0%, #8b1538 100%); min-height: calc(100vh - 76px);">
    <div class="container">
        <div class="row justify-content-center align-items-center" style="min-height: calc(100vh - 200px);">
            <div class="col-md-6 col-lg-5 col-xl-4">
                <div class="card shadow-lg border-0" style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);">
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <div class="admin-icon mb-3" style="font-size: 3rem; color: #dc3545;">
                                üõ°Ô∏è
                            </div>
                            <h2 class="fw-bold text-danger">Administrator Access</h2>
                            <p class="text-muted">Secure login for system administrators</p>
                            <div class="alert alert-warning alert-sm py-2 px-3 mb-3" style="font-size: 0.875rem;">
                                <i class="fas fa-exclamation-triangle me-1"></i>
                                Administrative privileges required
                            </div>
                        </div>

                        <form asp-action="AdminLogin" asp-route-returnUrl="@ViewData["ReturnUrl"]" method="post" class="needs-validation" novalidate>
                            <div asp-validation-summary="All" class="alert alert-danger" role="alert" style="display: none;"></div>
                            
                            <div class="mb-3">
                                <label asp-for="Email" class="form-label fw-semibold">
                                    <i class="fas fa-user-shield me-1"></i>Administrator Email
                                </label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light">
                                        <i class="fas fa-envelope text-muted"></i>
                                    </span>
                                    <input asp-for="Email" 
                                           class="form-control form-control-lg" 
                                           placeholder="Enter admin email address" 
                                           autocomplete="email"
                                           autofocus 
                                           required>
                                </div>
                                <span asp-validation-for="Email" class="text-danger small"></span>
                            </div>
                            
                            <div class="mb-3">
                                <label asp-for="Password" class="form-label fw-semibold">
                                    <i class="fas fa-lock me-1"></i>Password
                                </label>
                                <div class="input-group">
                                    <span class="input-group-text bg-light">
                                        <i class="fas fa-key text-muted"></i>
                                    </span>
                                    <input asp-for="Password" 
                                           class="form-control form-control-lg" 
                                           placeholder="Enter your password"
                                           autocomplete="current-password"
                                           required>
                                </div>
                                <span asp-validation-for="Password" class="text-danger small"></span>
                            </div>
                            
                            <div class="mb-4">
                                <div class="form-check">
                                    <input asp-for="RememberMe" class="form-check-input" id="rememberMe">
                                    <label asp-for="RememberMe" class="form-check-label" for="rememberMe">
                                        Keep me signed in on this device
                                    </label>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-danger btn-lg w-100 mb-3" style="background: linear-gradient(45deg, #dc3545, #c82333); border: none; box-shadow: 0 4px 12px rgba(220, 53, 69, 0.3);">
                                <i class="fas fa-shield-alt me-2"></i>Access Admin Panel
                            </button>
                        </form>

                        <div class="text-center">
                            <a asp-action="ForgotPassword" class="text-decoration-none text-muted small">
                                <i class="fas fa-question-circle me-1"></i>Forgot your password?
                            </a>
                        </div>

                        <hr class="my-4">

                        <div class="text-center">
                            <p class="mb-0 small text-muted">
                                Need user access? 
                                <a asp-action="Login" asp-route-returnUrl="@ViewData["ReturnUrl"]" class="text-decoration-none fw-bold text-primary">
                                    <i class="fas fa-user me-1"></i>Regular Login
                                </a>
                            </p>
                        </div>

                        <div class="text-center mt-3">
                            <p class="mb-0 small text-muted">
                                <i class="fas fa-home me-1"></i>
                                <a href="@Url.Action("Index", "Home")" class="text-decoration-none text-muted">
                                    Return to Homepage
                                </a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .admin-icon {
        animation: pulse 2s infinite;
    }
    
    @@keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }
    
    .input-group-text {
        border-right: none;
    }
    
    .input-group .form-control {
        border-left: none;
    }
    
    .input-group:focus-within .input-group-text {
        border-color: #dc3545;
        box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
    }
    
    .input-group:focus-within .form-control {
        border-color: #dc3545;
        box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
    }
    
    @@media (max-width: 768px) {
        .card-body {
            padding: 2rem !important;
        }
        
        .admin-icon {
            font-size: 2.5rem !important;
        }
    }
</style>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    
    <script>
        // Enhanced form validation feedback
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.querySelector('.needs-validation');
            const validationSummary = document.querySelector('[asp-validation-summary]');
            
            if (form) {
                form.addEventListener('submit', function(event) {
                    if (!form.checkValidity()) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    form.classList.add('was-validated');
                });
            }
            
            // Show validation summary if there are errors
            if (validationSummary && validationSummary.querySelector('li')) {
                validationSummary.style.display = 'block';
            }
        });
    </script>
}